(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/blindfoldchess/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},5465:function(e,t,r){},"6b4a":function(e,t,r){"use strict";r("6f9c")},"6f9c":function(e,t,r){},a5d2:function(e,t,r){"use strict";r("5465")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("2a13"),s=r.n(n),o=r("481d"),i={"t-button":{component:o["TButton"],props:{fixedClasses:"block px-4 py-2 transition duration-100 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",classes:"text-white bg-blue-500 border border-transparent shadow-sm rounded hover:bg-blue-600",variants:{secondary:"text-gray-800 bg-white border border-gray-300 shadow-sm hover:text-gray-600",error:"text-white bg-red-500 border border-transparent rounded shadow-sm hover:bg-red-600",success:"text-white bg-green-500 border border-transparent rounded shadow-sm hover:bg-green-600",link:"text-blue-500 underline hover:text-blue-600"}}},"t-alert":{component:o["TAlert"],props:{fixedClasses:{wrapper:"relative flex items-center p-4 border-l-4  rounded shadow-sm",body:"flex-grow",close:"absolute relative flex items-center justify-center ml-4 flex-shrink-0 w-6 h-6 transition duration-100 ease-in-out rounded  focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50",closeIcon:"fill-current h-4 w-4"},classes:{wrapper:"bg-blue-50 border-blue-500",body:"text-blue-700",close:"text-blue-500 hover:bg-blue-200"},variants:{danger:{wrapper:"bg-red-50 border-red-500",body:"text-red-700",close:"text-red-500 hover:bg-red-200"},success:{wrapper:"bg-green-50 border-green-500",body:"text-green-700",close:"text-green-500 hover:bg-green-200"}}}}};a["default"].use(s.a,i);var c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"min-h-full flex items-center justify-center py-2 px-4 sm:px-6 lg:px-8",attrs:{id:"app"}},[r("div",{staticClass:"max-w-md w-full space-y-4"},[r("router-view")],1)])},u=[],l=(r("a5d2"),r("2877")),d={},m=Object(l["a"])(d,c,u,!1,null,null,null),h=m.exports,g=r("b85c"),p=(r("d3b7"),r("ddb0"),r("9483"));Object(p["a"])("".concat("/blindfoldchess/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),caches.keys().then((function(e){var t,r=Object(g["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;caches.delete(a)}}catch(n){r.e(n)}finally{r.f()}}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=r("8c4f"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Login"),r("Games")],1)},b=[],w=r("bee2"),k=r("d4ec"),y=r("262e"),x=r("2caf"),S=r("9ab4"),_=r("1b40"),j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-2 space-y-2"},[r("div",{staticClass:"flex justify-between items-center"},[r("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900 uppercase"},[e._v(" Blindfold Lichess ")]),e.isLoggedIn?r("div",[r("a",{staticClass:"underline",attrs:{href:e.user.url,target:"_blank"}},[e._v(e._s(e.user.username))]),e._v(" • "),r("a",{attrs:{href:"#"},on:{click:function(t){return e.switchParameters()}}},[r("svg",{staticClass:"h-4 w-4 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0\n            4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"}})])]),e._v(" • "),r("a",{staticClass:"underline",attrs:{href:"#"},on:{click:e.logout}},[e._v("logout")])]):r("div",[r("a",{staticClass:"underline",attrs:{href:"#"},on:{click:e.login}},[e._v("Login with lichess.org")])])]),e.error?r("t-alert",{attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.error)+" ")]):e._e(),e.showParameters?r("div",{staticClass:"mt-2 p-4 bg-gray-100"},[r("div",[r("input",{staticClass:"mr-2",attrs:{type:"checkbox",id:"paramShowBoardDiagram",name:"paramShowBoardDiagram"},domProps:{checked:e.paramShowBoardDiagram},on:{input:e.updateParamShowBoardDiagram}}),r("label",{attrs:{for:"paramShowBoardDiagram"}},[e._v("Show board diagram")])]),r("div",[r("input",{staticClass:"mr-2",attrs:{type:"checkbox",id:"paramShowKeyboard",name:"paramShowKeyboard"},domProps:{checked:e.paramShowKeyboard},on:{input:e.updateParamShowKeyboard}}),r("label",{attrs:{for:"paramShowKeyboard"}},[e._v("Show keyboard")])]),r("div",[r("input",{staticClass:"mr-2",attrs:{type:"checkbox",id:"paramShowFigures",name:"paramShowFigures"},domProps:{checked:e.paramShowFigures},on:{input:e.updateParamShowFigures}}),r("label",{attrs:{for:"paramShowFigures"}},[e._v("Replace pieces letters by figures")])])]):e._e()],1)},A=[],O=r("1da1"),I=r("5530"),C=(r("96cf"),r("3ca3"),r("2b3d"),r("9861"),r("ac1f"),r("841c"),r("2f62")),P=r("8c57"),L=a["default"].extend({data:function(){return{oauth:new P["OAuth2AuthCodePKCE"]({authorizationUrl:"https://lichess.org/oauth",tokenUrl:"https://lichess.org/api/token",clientId:"blindfoldchess.dev",scopes:["challenge:write","bot:play","board:play"],redirectUrl:function(){var e=new URL(window.location.href);return e.search="",e.href}(),onAccessTokenExpiry:function(e){return e()},onInvalidGrant:function(){}}),accessContext:{},user:{},error:"",showParameters:!1}},computed:Object(C["c"])(["lichessAccessToken","isLoggedIn","paramShowBoardDiagram","paramShowKeyboard","paramShowFigures"]),methods:Object(I["a"])(Object(I["a"])({},Object(C["b"])(["setLichessAccessToken","setIsLoggedIn","setParamShowBoardDiagram","setParamShowKeyboard","setParamShowFigures"])),{},{login:function(){this.oauth.fetchAuthorizationCode()},updateParamShowBoardDiagram:function(e){this.setParamShowBoardDiagram(e.target.checked)},updateParamShowKeyboard:function(e){this.setParamShowKeyboard(e.target.checked)},updateParamShowFigures:function(e){this.setParamShowFigures(e.target.checked)},getUsername:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lichess.org/api/account",{method:"GET",headers:{Authorization:"Bearer ".concat(e.lichessAccessToken)}});case 2:return r=t.sent,t.next=5,r.json();case 5:e.user=t.sent;case 6:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.accessContext={},e.error="",e.user={},t.next=5,fetch("https://lichess.org/api/token",{method:"DELETE",headers:{Authorization:"Bearer ".concat(e.lichessAccessToken)}});case 5:e.setLichessAccessToken(""),e.setIsLoggedIn(!1),localStorage.removeItem("lichessAccessToken");case 8:case"end":return t.stop()}}),t)})))()},switchParameters:function(){this.showParameters=!this.showParameters}}),mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.lichessAccessToken){t.next=7;break}return e.setLichessAccessToken(localStorage.lichessAccessToken),e.setIsLoggedIn(!0),t.next=5,e.getUsername();case 5:t.next=23;break;case 7:return t.prev=7,t.next=10,e.oauth.isReturningFromAuthServer();case 10:if(r=t.sent,!r){t.next=18;break}return t.next=14,e.oauth.getAccessToken();case 14:return e.accessContext=t.sent,e.accessContext.token&&(e.setLichessAccessToken(e.accessContext.token.value),e.setIsLoggedIn(!0),localStorage.lichessAccessToken=e.accessContext.token.value),t.next=18,e.getUsername();case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](7),e.error=t.t0;case 23:case"end":return t.stop()}}),t,null,[[7,20]])})))()}}),G=L,T=Object(l["a"])(G,j,A,!1,null,null,null),M=T.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoggedIn?r("div",{staticClass:"mt-6"},[r("h2",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[e._v(" Current game (Stockfish level "+e._s(e.AILevel)+") ")]),e.gameLink?r("div",{staticClass:"mt-2"},[e._v(" Analyze on Lichess: "),r("a",{staticClass:"underline",attrs:{href:e.gameLink,target:"_blank"}},[e._v(e._s(e.gameLink))]),r("br"),e._v(" Or copy/paste PGN: "),r("br"),r("div",{staticClass:"break-words p-4 bg-gray-100",domProps:{innerHTML:e._s(e.gamePGN)}})]):e._e(),e.playingGame&&e.paramShowBoardDiagram?r("div",[r("img",{attrs:{src:e.boardImage}})]):e._e(),e.alertMessage?r("t-alert",{staticClass:"mt-2",attrs:{variant:e.alertVariant,show:""}},[e._v(" "+e._s(e.alertMessage)+" ")]):e._e(),e.playingGame?r("div",{staticClass:"mt-2"},[e.paramShowKeyboard?r("div",{staticClass:"keyboard flex flex-wrap"},e._l(e.keyboard,(function(t,a){return r("div",{key:a,class:["break"===t?"key-break":"key"],domProps:{innerHTML:e._s(e.replaceFigures(t))},on:{click:function(r){return e.keyboardWrite(t)}}})})),0):e._e(),e.isStreaming?r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.myNextMove,expression:"myNextMove"}],staticClass:"border-solid border-2 w-24 mt-2 mr-2",attrs:{type:"text",autofocus:"",placeholder:"Next move"},domProps:{value:e.myNextMove},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMove.apply(null,arguments)},input:function(t){t.target.composing||(e.myNextMove=t.target.value)}}}),e.paramShowKeyboard?r("button",{staticClass:"key key-erase",on:{click:function(t){return e.keyboardErase()}}},[r("svg",{staticClass:"h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2\n            2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"}})])]):e._e(),e.paramShowKeyboard?r("button",{staticClass:"key key-enter",on:{click:e.sendMove}},[r("svg",{staticClass:"h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"}})])]):e._e(),r("button",{staticClass:"key key-resign",on:{click:e.resignGame}},[r("svg",{staticClass:"h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6\n            3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"}})])])]):e._e(),r("ul",{staticClass:"mt-2"},e._l(e.gameLines,(function(t,a){return r("li",{key:a,domProps:{innerHTML:e._s(e.replaceFigures(t))}})})),0)]):r("div",[e._v(" No current game -> "),r("a",{staticClass:"underline",attrs:{href:"#"},on:{click:e.challengeAI}},[e._v("Start a new game")]),r("span",[e._v(" (Stockfish level "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.AILevel,expression:"AILevel"}],attrs:{name:"AILevel",id:"AILevel-select"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.AILevel=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"1"}},[e._v("1")]),r("option",{attrs:{value:"2"}},[e._v("2")]),r("option",{attrs:{value:"3"}},[e._v("3")]),r("option",{attrs:{value:"4"}},[e._v("4")]),r("option",{attrs:{value:"5"}},[e._v("5")]),r("option",{attrs:{value:"6"}},[e._v("6")]),r("option",{attrs:{value:"7"}},[e._v("7")]),r("option",{attrs:{value:"8"}},[e._v("8")])]),e._v(" ) ")])])],1):e._e()},R=[],N=r("3835"),F=r("53ca"),U=(r("1276"),r("4de4"),r("b64b"),r("a630"),r("99af"),r("fb6a"),r("159b"),r("4fad"),r("caad"),r("2532"),r("5319"),r("5b81"),r("c5ad")),K=r.n(U),D=function(e){return function(t){var r=t.body.getReader(),a=/\r?\n/,n=new TextDecoder,s="",o=function t(){return r.read().then((function(r){var o=r.done,i=r.value;if(!o){var c=n.decode(i,{stream:!0});s+=c;var u=s.split(a);s=u.pop();var l,d=Object(g["a"])(u.filter((function(e){return e})));try{for(d.s();!(l=d.n()).done;){var m=l.value;e(JSON.parse(m))}}catch(h){d.e(h)}finally{d.f()}return t()}return s.length>0&&e(JSON.parse(s)),!1}))};return o()}},E=a["default"].extend({data:function(){return{mostUrgentGame:{},chessGame:{},playingGame:!1,gameId:"",gameLines:[],gameWinner:"",gameLink:"",gamePGN:"",boardImage:"",AILevel:"1",numberOfMoves:0,myNextMove:"",alertMessage:"",alertVariant:"",showBoardDiagram:!1,isStreaming:!1,showKeyboard:!0,keyboard:["a","b","c","d","e","f","g","h","break","1","2","3","4","5","6","7","8","break","K","Q","R","B","N","x","-","O"],figuresMapping:{K:"&#9818;",Q:"&#9819;",R:"&#9820;",B:"&#9821;",N:"&#9822;"}}},computed:Object(I["a"])({},Object(C["c"])(["lichessAccessToken","isLoggedIn","paramShowKeyboard","paramShowBoardDiagram","paramShowFigures"])),watch:{lichessAccessToken:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.isLoggedIn||!e.$store.state.lichessAccessToken){t.next=10;break}if(0!==Object.keys(e.mostUrgentGame).length){t.next=4;break}return t.next=4,e.getMostUrgentGame();case 4:if("string"!==typeof e.mostUrgentGame.gameId||!1!==e.isStreaming){t.next=10;break}return e.gameId=e.mostUrgentGame.gameId,e.chessGame=new K.a,e.playingGame=!0,t.next=10,e.streamGame(e.gameId);case 10:case"end":return t.stop()}}),t)})))()}},methods:{getMostUrgentGame:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lichess.org/api/account/playing?nb=1",{method:"GET",headers:{Authorization:"Bearer ".concat(e.$store.state.lichessAccessToken)}});case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,a.nowPlaying&&a.nowPlaying[0]&&(e.mostUrgentGame=a.nowPlaying[0],e.AILevel=null===(n=e.mostUrgentGame)||void 0===n||null===(s=n.opponent)||void 0===s?void 0:s.ai);case 7:case"end":return t.stop()}}),t)})))()},streamGame:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=fetch("https://lichess.org/api/board/game/stream/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t.$store.state.lichessAccessToken),Accept:"application/x-ndjson"}}),t.isStreaming=!0,n=function(e){if("gameState"===e.type&&e.winner&&"string"===typeof e.winner){t.gameWinner=e.winner;var r=t.chessGame.pgn();t.importGame(r),t.gamePGN=r}var a;if("gameState"===e.type)a=e.moves;else if("gameFull"===e.type){var n;if("object"===Object(F["a"])(e.state))a=null===(n=e.state)||void 0===n?void 0:n.moves}t.chessGame.load_pgn(a,{sloppy:!0});var s=t.chessGame.history(),o=1,i=Array.from(s,(function(e,t){if(t%2===0||0===t){var r='<span class="move-number">'.concat(o,".</span>");return r+='<span class="white-move">'.concat(s[t],"</span>"),void 0!==s[t+1]&&(r+='<span class="black-move">'.concat(s[t+1],"</span>")),o+=1,r}return null}));i=i.filter((function(e){return e})),t.gameLines=i.reverse(),t.boardImage="http://www.fen-to-image.com/image/26/double/coords/",t.boardImage+=t.chessGame.fen()},s=function(){t.alertMessage="The stream has completed.",t.alertVariant="",t.isStreaming=!1},a.then(D(n)).then(s);case 5:case"end":return r.stop()}}),r)})))()},challengeAI:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lichess.org/api/challenge/ai",{method:"POST",headers:{Authorization:"Bearer ".concat(e.$store.state.lichessAccessToken)},body:new URLSearchParams({level:"1",color:"random",variant:"standard"})});case 2:return r=t.sent,t.next=5,r.json();case 5:if(e.gameId=t.sent.id,!e.gameId){t.next=11;break}return e.chessGame=new K.a,e.playingGame=!0,t.next=11,e.streamGame(e.gameId);case 11:case"end":return t.stop()}}),t)})))()},sendMove:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.chessGame.move(e.myNextMove);case 2:if(r=t.sent,null!==r){t.next=7;break}return e.alertMessage="This move is not legal!",e.alertVariant="danger",t.abrupt("return",!1);case 7:return t.next=9,fetch("https://lichess.org/api/board/game/".concat(e.gameId,"/move/").concat(r.from).concat(r.to),{method:"POST",headers:{Authorization:"Bearer ".concat(e.$store.state.lichessAccessToken)}});case 9:return a=t.sent,t.next=12,a.json();case 12:return n=t.sent,n.error?(e.alertMessage=n.error,e.alertVariant="danger"):(e.myNextMove="",e.alertMessage=""),t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t)})))()},importGame:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://lichess.org/api/import",{method:"POST",headers:{Authorization:"Bearer ".concat(t.$store.state.lichessAccessToken)},body:new URLSearchParams({pgn:e})});case 2:return a=r.sent,r.next=5,a.json();case 5:t.gameLink=r.sent.url;case 6:case"end":return r.stop()}}),r)})))()},resignGame:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lichess.org/api/board/game/".concat(e.gameId,"/resign"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.$store.state.lichessAccessToken)}});case 2:case"end":return t.stop()}}),t)})))()},keyboardWrite:function(e){this.myNextMove="".concat(this.myNextMove).concat(e)},keyboardErase:function(){this.myNextMove=this.myNextMove.slice(0,-1)},replaceFigures:function(e){var t=e;return this.paramShowFigures&&Object.entries(this.figuresMapping).forEach((function(e){var r=Object(N["a"])(e,2),a=r[0],n=r[1];t.includes(a)&&(t=t.replaceAll(a,n))})),t}},mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.isLoggedIn||!e.$store.state.lichessAccessToken){t.next=10;break}if(0!==Object.keys(e.mostUrgentGame).length){t.next=4;break}return t.next=4,e.getMostUrgentGame();case 4:if("string"!==typeof e.mostUrgentGame.gameId||!1!==e.isStreaming){t.next=10;break}return e.gameId=e.mostUrgentGame.gameId,e.chessGame=new K.a,e.playingGame=!0,t.next=10,e.streamGame(e.gameId);case 10:case"end":return t.stop()}}),t)})))()}}),$=E,z=(r("6b4a"),Object(l["a"])($,B,R,!1,null,null,null)),V=z.exports,H=function(e){Object(y["a"])(r,e);var t=Object(x["a"])(r);function r(){return Object(k["a"])(this,r),t.apply(this,arguments)}return Object(w["a"])(r)}(_["b"]);H=Object(S["a"])([Object(_["a"])({components:{Login:M,Games:V}})],H);var J=H,W=J,Q=Object(l["a"])(W,v,b,!1,null,null,null),q=Q.exports;a["default"].use(f["a"]);var X=[{path:"/",name:"Home",component:q}],Y=new f["a"]({routes:X}),Z=Y;a["default"].use(C["a"]);var ee=new C["a"].Store({state:{lichessAccessToken:"",isLoggedIn:!1,paramShowBoardDiagram:!1,paramShowKeyboard:!0,paramShowFigures:!0},mutations:{setLichessAccessToken:function(e,t){e.lichessAccessToken=t},setIsLoggedIn:function(e,t){e.isLoggedIn=t},setParamShowBoardDiagram:function(e,t){e.paramShowBoardDiagram=t},setParamShowKeyboard:function(e,t){e.paramShowKeyboard=t},setParamShowFigures:function(e,t){e.paramShowFigures=t}},actions:{},modules:{}});a["default"].config.productionTip=!1,new a["default"]({router:Z,store:ee,render:function(e){return e(h)}}).$mount("#app")}});
//# sourceMappingURL=app.41b8b958.js.map