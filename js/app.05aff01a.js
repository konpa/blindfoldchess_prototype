(function(e){function t(t){for(var n,a,c=t[0],i=t[1],l=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==s[i]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},s={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},5465:function(e,t,r){},a5d2:function(e,t,r){"use strict";r("5465")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=r("2a13"),o=r.n(s),a=r("481d"),c={"t-button":{component:a["TButton"],props:{fixedClasses:"block px-4 py-2 transition duration-100 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",classes:"text-white bg-blue-500 border border-transparent shadow-sm rounded hover:bg-blue-600",variants:{secondary:"text-gray-800 bg-white border border-gray-300 shadow-sm hover:text-gray-600",error:"text-white bg-red-500 border border-transparent rounded shadow-sm hover:bg-red-600",success:"text-white bg-green-500 border border-transparent rounded shadow-sm hover:bg-green-600",link:"text-blue-500 underline hover:text-blue-600"}}},"t-alert":{component:a["TAlert"],props:{fixedClasses:{wrapper:"relative flex items-center p-4 border-l-4  rounded shadow-sm",body:"flex-grow",close:"absolute relative flex items-center justify-center ml-4 flex-shrink-0 w-6 h-6 transition duration-100 ease-in-out rounded  focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50",closeIcon:"fill-current h-4 w-4"},classes:{wrapper:"bg-blue-50 border-blue-500",body:"text-blue-700",close:"text-blue-500 hover:bg-blue-200"},variants:{danger:{wrapper:"bg-red-50 border-red-500",body:"text-red-700",close:"text-red-500 hover:bg-red-200"},success:{wrapper:"bg-green-50 border-green-500",body:"text-green-700",close:"text-green-500 hover:bg-green-200"}}}}};n["default"].use(o.a,c);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",attrs:{id:"app"}},[r("div",{staticClass:"max-w-md w-full space-y-8"},[r("router-view")],1)])},l=[],u=(r("a5d2"),r("2877")),d={},f=Object(u["a"])(d,i,l,!1,null,null,null),p=f.exports,g=r("9483");Object(g["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var h=r("8c4f"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Login")],1)},m=[],v=r("bee2"),x=r("d4ec"),w=r("262e"),y=r("2caf"),k=r("9ab4"),C=r("1b40"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"bg-white shadow overflow-hidden sm:rounded-lg"},[e._m(0),e.lichessAccessToken?r("div",{staticClass:"border-t border-gray-200"},[r("dl",[r("div",{staticClass:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[r("dt",{staticClass:"text-sm font-medium text-gray-500"},[e._v(" Username ")]),r("dd",{staticClass:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},[e._v(" "+e._s(e.user.username)+" ")])]),r("div",{staticClass:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[r("dt",{staticClass:"text-sm font-medium text-gray-500"},[e._v(" Link to profile ")]),r("dd",{staticClass:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},[r("a",{attrs:{href:e.user.url,target:"_blank"}},[e._v(e._s(e.user.url))])])]),r("div",{staticClass:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[r("dt",{staticClass:"text-sm font-medium text-gray-500"},[e._v(" Correspondence ")]),r("dd",{staticClass:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},[e._v(" "+e._s(e.user.perfs.correspondence.rating)+" / "+e._s(e.user.perfs.correspondence.games)+" game(s) ")])])])]):e._e()]),r("div",{staticClass:"mt-8 space-y-6"},[e.lichessAccessToken?r("div",[e.lichessAccessToken?r("t-button",{staticClass:"w-full",attrs:{variant:"error"},on:{click:e.logout}},[e._v("Logout")]):e._e()],1):r("div",[r("t-button",{staticClass:"w-full",on:{click:e.login}},[e._v("Login with lichess.org")])],1),e.error?r("t-alert",{attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1)])},j=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"px-4 py-5 sm:px-6"},[r("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[e._v(" Blindfold LiChess ")]),r("p",{staticClass:"mt-1 max-w-2xl text-sm text-gray-500"},[e._v(" Blindfold chess for lichess.org ")])])}],A=r("1da1"),O=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("ac1f"),r("841c"),r("8c57")),T=n["default"].extend({data:function(){return{oauth:new O["OAuth2AuthCodePKCE"]({authorizationUrl:"https://lichess.org/oauth",tokenUrl:"https://lichess.org/api/token",clientId:"blindfoldchess.dev",scopes:["email:read"],redirectUrl:function(){var e=new URL(window.location.href);return e.search="",e.href}(),onAccessTokenExpiry:function(e){return e()},onInvalidGrant:function(){}}),accessContext:{},user:{},lichessAccessToken:"",error:""}},methods:{login:function(){this.oauth.fetchAuthorizationCode()},getUsername:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lichess.org/api/account",{method:"GET",headers:{Authorization:"Bearer ".concat(e.lichessAccessToken)}});case 2:return r=t.sent,t.next=5,r.json();case 5:e.user=t.sent;case 6:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.accessContext={},e.error="",e.user={},t.next=5,fetch("https://lichess.org/api/token",{method:"DELETE",headers:{Authorization:"Bearer ".concat(e.lichessAccessToken)}});case 5:e.lichessAccessToken="",localStorage.removeItem("lichessAccessToken");case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.lichessAccessToken){t.next=6;break}return e.lichessAccessToken=localStorage.lichessAccessToken,t.next=4,e.getUsername();case 4:t.next=22;break;case 6:return t.prev=6,t.next=9,e.oauth.isReturningFromAuthServer();case 9:if(r=t.sent,!r){t.next=17;break}return t.next=13,e.oauth.getAccessToken();case 13:return e.accessContext=t.sent,e.accessContext.token&&(e.lichessAccessToken=e.accessContext.token.value,localStorage.lichessAccessToken=e.accessContext.token.value),t.next=17,e.getUsername();case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](6),e.error=t.t0;case 22:case"end":return t.stop()}}),t,null,[[6,19]])})))()}}),S=T,E=Object(u["a"])(S,_,j,!1,null,null,null),L=E.exports,P=function(e){Object(w["a"])(r,e);var t=Object(y["a"])(r);function r(){return Object(x["a"])(this,r),t.apply(this,arguments)}return Object(v["a"])(r)}(C["b"]);P=Object(k["a"])([Object(C["a"])({components:{Login:L}})],P);var R=P,U=R,B=Object(u["a"])(U,b,m,!1,null,null,null),$=B.exports;n["default"].use(h["a"]);var z=[{path:"/",name:"Home",component:$}],I=new h["a"]({routes:z}),M=I,F=r("2f62");n["default"].use(F["a"]);var N=new F["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["default"].config.productionTip=!1,new n["default"]({router:M,store:N,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.05aff01a.js.map